"""
    The following instance is taken from mult3 test suite.
    The original data file ``m_10_3_0_100_1.bar``for this instance 
    is available in the test/data/baron folder. 
    BARON's solve log is also in the data folder. 
"""

function create_multilinear_model(; num_discretizations = [2 for i in 1:10])
    m = Model()
    variables = Dict{Symbol,Any}()

    variables[:x] =
        x = @variable(m, [1:10], lower_bound = 0.0, upper_bound = 1.0)
    variables[:y] = y = @variable(m, [1:165])
    partitions = Dict(
        x[i] => range(0.0, 1.0, length = num_discretizations[i]) |> collect
        for i in 1:10
    )

    relax = [
        (y[1], (x[1], x[2])),
        (y[2], (x[1], x[3])),
        (y[3], (x[1], x[4])),
        (y[4], (x[1], x[5])),
        (y[5], (x[1], x[6])),
        (y[6], (x[1], x[7])),
        (y[7], (x[1], x[8])),
        (y[8], (x[1], x[9])),
        (y[9], (x[1], x[10])),
        (y[10], (x[2], x[3])),
        (y[11], (x[2], x[4])),
        (y[12], (x[2], x[5])),
        (y[13], (x[2], x[6])),
        (y[14], (x[2], x[7])),
        (y[15], (x[2], x[8])),
        (y[16], (x[2], x[9])),
        (y[17], (x[2], x[10])),
        (y[18], (x[3], x[4])),
        (y[19], (x[3], x[5])),
        (y[20], (x[3], x[6])),
        (y[21], (x[3], x[7])),
        (y[22], (x[3], x[8])),
        (y[23], (x[3], x[9])),
        (y[24], (x[3], x[10])),
        (y[25], (x[4], x[5])),
        (y[26], (x[4], x[6])),
        (y[27], (x[4], x[7])),
        (y[28], (x[4], x[8])),
        (y[29], (x[4], x[9])),
        (y[30], (x[4], x[10])),
        (y[31], (x[5], x[6])),
        (y[32], (x[5], x[7])),
        (y[33], (x[5], x[8])),
        (y[34], (x[5], x[9])),
        (y[35], (x[5], x[10])),
        (y[36], (x[6], x[7])),
        (y[37], (x[6], x[8])),
        (y[38], (x[6], x[9])),
        (y[39], (x[6], x[10])),
        (y[40], (x[7], x[8])),
        (y[41], (x[7], x[9])),
        (y[42], (x[7], x[10])),
        (y[43], (x[8], x[9])),
        (y[44], (x[8], x[10])),
        (y[45], (x[9], x[10])),
        (y[46], (x[1], x[2], x[3])),
        (y[47], (x[1], x[2], x[4])),
        (y[48], (x[1], x[2], x[5])),
        (y[49], (x[1], x[2], x[6])),
        (y[50], (x[1], x[2], x[7])),
        (y[51], (x[1], x[2], x[8])),
        (y[52], (x[1], x[2], x[9])),
        (y[53], (x[1], x[2], x[10])),
        (y[54], (x[1], x[3], x[4])),
        (y[55], (x[1], x[3], x[5])),
        (y[56], (x[1], x[3], x[6])),
        (y[57], (x[1], x[3], x[7])),
        (y[58], (x[1], x[3], x[8])),
        (y[59], (x[1], x[3], x[9])),
        (y[60], (x[1], x[3], x[10])),
        (y[61], (x[1], x[4], x[5])),
        (y[62], (x[1], x[4], x[6])),
        (y[63], (x[1], x[4], x[7])),
        (y[64], (x[1], x[4], x[8])),
        (y[65], (x[1], x[4], x[9])),
        (y[66], (x[1], x[4], x[10])),
        (y[67], (x[1], x[5], x[6])),
        (y[68], (x[1], x[5], x[7])),
        (y[69], (x[1], x[5], x[8])),
        (y[70], (x[1], x[5], x[9])),
        (y[71], (x[1], x[5], x[10])),
        (y[72], (x[1], x[6], x[7])),
        (y[73], (x[1], x[6], x[8])),
        (y[74], (x[1], x[6], x[9])),
        (y[75], (x[1], x[6], x[10])),
        (y[76], (x[1], x[7], x[8])),
        (y[77], (x[1], x[7], x[9])),
        (y[78], (x[1], x[7], x[10])),
        (y[79], (x[1], x[8], x[9])),
        (y[80], (x[1], x[8], x[10])),
        (y[81], (x[1], x[9], x[10])),
        (y[82], (x[2], x[3], x[4])),
        (y[83], (x[2], x[3], x[5])),
        (y[84], (x[2], x[3], x[6])),
        (y[85], (x[2], x[3], x[7])),
        (y[86], (x[2], x[3], x[8])),
        (y[87], (x[2], x[3], x[9])),
        (y[88], (x[2], x[3], x[10])),
        (y[89], (x[2], x[4], x[5])),
        (y[90], (x[2], x[4], x[6])),
        (y[91], (x[2], x[4], x[7])),
        (y[92], (x[2], x[4], x[8])),
        (y[93], (x[2], x[4], x[9])),
        (y[94], (x[2], x[4], x[10])),
        (y[95], (x[2], x[5], x[6])),
        (y[96], (x[2], x[5], x[7])),
        (y[97], (x[2], x[5], x[8])),
        (y[98], (x[2], x[5], x[9])),
        (y[99], (x[2], x[5], x[10])),
        (y[100], (x[2], x[6], x[7])),
        (y[101], (x[2], x[6], x[8])),
        (y[102], (x[2], x[6], x[9])),
        (y[103], (x[2], x[6], x[10])),
        (y[104], (x[2], x[7], x[8])),
        (y[105], (x[2], x[7], x[9])),
        (y[106], (x[2], x[7], x[10])),
        (y[107], (x[2], x[8], x[9])),
        (y[108], (x[2], x[8], x[10])),
        (y[109], (x[2], x[9], x[10])),
        (y[110], (x[3], x[4], x[5])),
        (y[111], (x[3], x[4], x[6])),
        (y[112], (x[3], x[4], x[7])),
        (y[113], (x[3], x[4], x[8])),
        (y[114], (x[3], x[4], x[9])),
        (y[115], (x[3], x[4], x[10])),
        (y[116], (x[3], x[5], x[6])),
        (y[117], (x[3], x[5], x[7])),
        (y[118], (x[3], x[5], x[8])),
        (y[119], (x[3], x[5], x[9])),
        (y[120], (x[3], x[5], x[10])),
        (y[121], (x[3], x[6], x[7])),
        (y[122], (x[3], x[6], x[8])),
        (y[123], (x[3], x[6], x[9])),
        (y[124], (x[3], x[6], x[10])),
        (y[125], (x[3], x[7], x[8])),
        (y[126], (x[3], x[7], x[9])),
        (y[127], (x[3], x[7], x[10])),
        (y[128], (x[3], x[8], x[9])),
        (y[129], (x[3], x[8], x[10])),
        (y[130], (x[3], x[9], x[10])),
        (y[131], (x[4], x[5], x[6])),
        (y[132], (x[4], x[5], x[7])),
        (y[133], (x[4], x[5], x[8])),
        (y[134], (x[4], x[5], x[9])),
        (y[135], (x[4], x[5], x[10])),
        (y[136], (x[4], x[6], x[7])),
        (y[137], (x[4], x[6], x[8])),
        (y[138], (x[4], x[6], x[9])),
        (y[139], (x[4], x[6], x[10])),
        (y[140], (x[4], x[7], x[8])),
        (y[141], (x[4], x[7], x[9])),
        (y[142], (x[4], x[7], x[10])),
        (y[143], (x[4], x[8], x[9])),
        (y[144], (x[4], x[8], x[10])),
        (y[145], (x[4], x[9], x[10])),
        (y[146], (x[5], x[6], x[7])),
        (y[147], (x[5], x[6], x[8])),
        (y[148], (x[5], x[6], x[9])),
        (y[149], (x[5], x[6], x[10])),
        (y[150], (x[5], x[7], x[8])),
        (y[151], (x[5], x[7], x[9])),
        (y[152], (x[5], x[7], x[10])),
        (y[153], (x[5], x[8], x[9])),
        (y[154], (x[5], x[8], x[10])),
        (y[155], (x[5], x[9], x[10])),
        (y[156], (x[6], x[7], x[8])),
        (y[157], (x[6], x[7], x[9])),
        (y[158], (x[6], x[7], x[10])),
        (y[159], (x[6], x[8], x[9])),
        (y[160], (x[6], x[8], x[10])),
        (y[161], (x[6], x[9], x[10])),
        (y[162], (x[7], x[8], x[9])),
        (y[163], (x[7], x[8], x[10])),
        (y[164], (x[7], x[9], x[10])),
        (y[165], (x[8], x[9], x[10])),
    ]

    @objective(
        m,
        Min,
        0.4931 * y[1] +
        0.6864 * y[2] +
        0.0577 * y[3] +
        0.3310 * y[4] +
        0.4615 * y[5] - 0.1788 * y[6] - 0.2886 * y[7] + 0.4708 * y[8] -
        0.0574 * y[9] - 0.0747 * y[10] +
        0.5194 * y[11] +
        0.4049 * y[12] - 0.4841 * y[13] + 0.8754 * y[14] - 0.0878 * y[15] +
        0.6170 * y[16] +
        0.8177 * y[17] +
        0.3898 * y[18] - 0.5610 * y[19] +
        0.7099 * y[20] +
        0.4888 * y[21] - 0.3978 * y[22] +
        0.3439 * y[23] +
        0.2374 * y[24] +
        0.9351 * y[25] +
        0.9805 * y[26] - 0.3240 * y[27] + 0.8415 * y[28] - 0.3219 * y[29] +
        0.8619 * y[30] +
        0.0931 * y[31] - 0.0690 * y[32] - 0.6462 * y[33] - 0.2440 * y[34] -
        0.6496 * y[35] - 0.2863 * y[36] +
        0.3314 * y[37] +
        0.2371 * y[38] - 0.0621 * y[39] - 0.3675 * y[40] - 0.4622 * y[41] -
        0.6002 * y[42] - 0.1691 * y[43] +
        0.9586 * y[44] +
        0.0864 * y[45] - 0.7410 * x[1] +
        0.6095 * x[2] +
        0.6916 * x[3] +
        0.4181 * x[4] +
        0.0579 * x[5] +
        0.3277 * x[6] +
        0.8015 * x[7] +
        0.8823 * x[8] - 0.7712 * x[9] +
        0.7333 * x[10] +
        0.9951 * y[46] +
        0.1336 * y[47] +
        0.9318 * y[48] +
        0.4959 * y[49] - 0.2652 * y[50] - 0.0387 * y[51] - 0.8525 * y[52] -
        0.9893 * y[53] - 0.3058 * y[54] - 0.3155 * y[55] - 0.5641 * y[56] -
        0.7337 * y[57] + 0.8010 * y[58] - 0.2265 * y[59] - 0.1090 * y[60] +
        0.3239 * y[61] - 0.9678 * y[62] +
        0.3017 * y[63] +
        0.2928 * y[64] - 0.3540 * y[65] + 0.7114 * y[66] - 0.1974 * y[67] -
        0.5863 * y[68] +
        0.9371 * y[69] +
        0.1968 * y[70] +
        0.3460 * y[71] - 0.0862 * y[72] - 0.3400 * y[73] - 0.7992 * y[74] +
        0.5109 * y[75] +
        0.2114 * y[76] +
        0.4381 * y[77] +
        0.7947 * y[78] +
        0.3165 * y[79] - 0.6986 * y[80] +
        0.2246 * y[81] +
        0.9573 * y[82] +
        0.9983 * y[83] - 0.4864 * y[84] +
        0.1017 * y[85] +
        0.3181 * y[86] +
        0.1080 * y[87] +
        0.9555 * y[88] +
        0.8038 * y[89] +
        0.3158 * y[90] +
        0.4577 * y[91] - 0.1951 * y[92] + 0.8573 * y[93] - 0.7043 * y[94] +
        0.3491 * y[95] +
        0.5392 * y[96] - 0.3214 * y[97] - 0.7684 * y[98] +
        0.2287 * y[99] +
        0.6412 * y[100] +
        0.8942 * y[101] +
        0.4623 * y[102] - 0.0048 * y[103] - 0.2504 * y[104] - 0.1570 * y[105] +
        0.1058 * y[106] +
        0.9958 * y[107] +
        0.9808 * y[108] +
        0.4926 * y[109] +
        0.9075 * y[110] - 0.8135 * y[111] +
        0.4680 * y[112] +
        0.5035 * y[113] +
        0.8937 * y[114] +
        0.4124 * y[115] +
        0.6276 * y[116] +
        0.1172 * y[117] - 0.8766 * y[118] - 0.0392 * y[119] + 0.1954 * y[120] -
        0.7249 * y[121] +
        0.1748 * y[122] +
        0.0399 * y[123] +
        0.7718 * y[124] - 0.3924 * y[125] +
        0.3393 * y[126] +
        0.3299 * y[127] +
        0.0074 * y[128] - 0.4768 * y[129] - 0.8469 * y[130] - 0.7975 * y[131] +
        0.0985 * y[132] - 0.2488 * y[133] - 0.9697 * y[134] +
        0.5858 * y[135] +
        0.2418 * y[136] +
        0.5472 * y[137] +
        0.9072 * y[138] - 0.7715 * y[139] - 0.3631 * y[140] + 0.1936 * y[141] -
        0.9037 * y[142] - 0.7716 * y[143] - 0.5681 * y[144] - 0.7989 * y[145] -
        0.8533 * y[146] - 0.5063 * y[147] - 0.1132 * y[148] - 0.5833 * y[149] +
        0.1340 * y[150] - 0.9514 * y[151] - 0.1594 * y[152] - 0.2043 * y[153] +
        0.9532 * y[154] +
        0.3852 * y[155] - 0.9901 * y[156] - 0.7402 * y[157] - 0.9064 * y[158] +
        0.6796 * y[159] +
        0.3570 * y[160] +
        0.1639 * y[161] +
        0.4671 * y[162] - 0.7679 * y[163] +
        0.6806 * y[164] +
        0.67 * y[165]
    )

    return (
        model = m,
        multilinear_terms = relax,
        partitions = partitions,
        variables = variables,
        objective = -3.88510,
    )
end
